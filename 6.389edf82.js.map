{"version":3,"sources":["webpack:///./src/components/Card.js","webpack:///./src/components/Card.less?c203","webpack:///./src/components/Card.less","webpack:///./src/components/Loading.js","webpack:///./src/pages/popular.less?a24e","webpack:///./src/pages/popular.less","webpack:///./src/pages/Popular.js","webpack:///./src/utils/index.js","webpack:///./src/utils/request.js"],"names":["Nmsl","list","this","props","items","map","item","key","className","styles","content","style","textAlign","avatar","src","owner","avatar_url","alt","name","width","title","full_name","color","href","html_url","target","rel","stargazers_count","forks","open_issues","card","React","Component","api","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","center","Loading","Popular","lang","page","loading","current","query","a","history","pathname","search","setState","getApi","clear","state","language","replace","currentpage","getData","error","console","log","message","info","document","documentElement","scrollTop","res","location","substr","menu","role","onClick","initialLoad","loadMore","hasMore","withRouter","url","request","getResult","instance","axios","create","interceptors","response","use","data"],"mappings":"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","file":"6.389edf82.js","sourcesContent":["import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport styles from \"@/components/Card.less\";\r\n\r\nclass Nmsl extends React.Component {\r\n  render() {\r\n    const { items } = this.props;\r\n    const list = (items || []).map((item, key) => (\r\n      <Card key={key} className={styles.content}>\r\n        <h2 style={{ textAlign: \"center\" }}>#{key + 1}</h2>\r\n        <div className={styles.avatar}>\r\n          <img\r\n            src={item.owner.avatar_url}\r\n            alt={item.name}\r\n            style={{ width: \"50%\" }}\r\n          />\r\n        </div>\r\n        <h4 className={styles.title}>{item.full_name}</h4>\r\n        <div>\r\n          <i className=\"fa fa-user\" style={{ color: \"rgb(255, 191, 116)\" }} />\r\n          <a href={item.owner.html_url} target=\"_blank\" rel=\"noreferrer\">\r\n            {item.name}\r\n          </a>\r\n        </div>\r\n        <div>\r\n          <i className=\"fa fa-star\" style={{ color: \"rgb(255, 215, 0)\" }} />\r\n          {item.stargazers_count} stars\r\n        </div>\r\n        <div>\r\n          <i\r\n            className=\"fa fa-code-fork\"\r\n            style={{ color: \"rgb(129, 195, 245)\" }}\r\n          />\r\n          {item.forks} forks\r\n        </div>\r\n        <div>\r\n          <i\r\n            className=\"fa fa-warning\"\r\n            style={{ color: \"rgb(241, 138, 147)\" }}\r\n          />\r\n          {item.open_issues} Open issues\r\n        </div>\r\n      </Card>\r\n    ));\r\n\r\n    return (\r\n      <div className={styles.card}>\r\n        {list}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Nmsl;\r\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js?modules!../../node_modules/less-loader/dist/cjs.js!./Card.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".TMDhfDQfBRnQrrnymSNzw {\\n  box-sizing: border-box;\\n  width: 23%;\\n  padding: 24px;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  border-radius: 8px;\\n  background-color: rgba(0, 0, 0, 0.08);\\n}\\n.TMDhfDQfBRnQrrnymSNzw ._1Y-XiurQna0g0Y9_5x24t7 {\\n  text-align: center;\\n}\\n.TMDhfDQfBRnQrrnymSNzw ._2ijQDURv05jqTAAyGg-j1Y {\\n  display: flex;\\n  flex-direction: row;\\n  height: 36px;\\n  justify-content: center;\\n}\\n._3mzJeW7Q1jqIU3cyKOD5xI {\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  flex-wrap: wrap;\\n  justify-content: space-around;\\n  margin-bottom: 48px;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"content\": \"TMDhfDQfBRnQrrnymSNzw\",\n\t\"avatar\": \"_1Y-XiurQna0g0Y9_5x24t7\",\n\t\"title\": \"_2ijQDURv05jqTAAyGg-j1Y\",\n\t\"card\": \"_3mzJeW7Q1jqIU3cyKOD5xI\"\n};\nmodule.exports = exports;\n","import React from \"react\";\n\nconst styles = {\n  center: {\n    textAlign: \"center\",\n  },\n};\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div style={styles.center}>\n        <i className=\"fa fa-spinner fa-spin\" />\n        <span>Loading...</span>\n      </div>\n    );\n  }\n}\n\nexport default Loading;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js?modules!../../node_modules/less-loader/dist/cjs.js!./popular.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2plrrsPL-juvUZ8XVZEvrT {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 0%;\\n  padding: 0px 32px;\\n  margin: 0px;\\n  min-height: 100vh;\\n}\\n._2YJjaPxn7gOG7IcarRl7-a {\\n  cursor: pointer;\\n  list-style: none;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  max-width: 500px;\\n  margin: 0 auto;\\n  margin-bottom: 50px;\\n}\\n._1WJu8GBeR5zltOcxTJRm5o {\\n  color: red;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"app\": \"_2plrrsPL-juvUZ8XVZEvrT\",\n\t\"menu\": \"_2YJjaPxn7gOG7IcarRl7-a\",\n\t\"link\": \"_1WJu8GBeR5zltOcxTJRm5o\"\n};\nmodule.exports = exports;\n","/* eslint-disable */\nimport React from \"react\";\nimport Card from \"@/components/Card\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport Loading from \"@/components/Loading\";\nimport { getData } from \"@/utils/index\";\nimport styles from \"@/pages/popular.less\";\nimport { withRouter } from \"react-router-dom\";\nimport { message } from \"antd\";\n\nclass Popular extends React.Component {\n  state = {\n    lang: \"\",\n    items: [],\n    page: 1,\n    loading: false,\n    current: \"\",\n  };\n\n  async componentDidMount() {\n    const { location: search } = this.props;\n\n    const query = search.search.substr(1);\n    this.setState({ current: query });\n\n    const current = search.search.replace(\"?language=\", \"\");\n\n    await this.getApi(current);\n  }\n\n  onClick = async (query) => {\n    const { history } = this.props;\n    history.push({ pathname: \"/\", search: query });\n    this.setState({ lang: query, current: query });\n    await this.getApi(query, true);\n  };\n\n  getApi = async (lang, clear = false) => {\n    const { items, page } = this.state;\n    const language = lang.replace(\"language=\", \"\");\n    const currentpage = clear ? 1 : page;\n\n    // console.log(\"current page\", currentpage);\n    // console.log(\"page in state => \", this.state.page);\n\n    this.setState({\n      loading: true,\n    });\n\n    if (clear) {\n      this.setState({ items: [] });\n    }\n\n    const res = await getData(language, currentpage).catch((error) => {\n      console.log(error);\n      message.info(\"请求出错\");\n      this.setState({ loading: false, items: items });\n      document.documentElement.scrollTop -= 100;\n    });\n\n    this.setState({\n      items: clear ? res.items : [...items, ...res.items],\n      page: currentpage + 1,\n      loading: false,\n    });\n  };\n\n  render() {\n    const { items, lang, current } = this.state;\n    const { loading } = this.state;\n\n    const links = [\n      {\n        title: \"All\",\n        query: \"language=all\",\n      },\n      {\n        title: \"JavaScript\",\n        query: \"language=javascript\",\n      },\n      {\n        title: \"Ruby\",\n        query: \"language=ruby\",\n      },\n      {\n        title: \"Java\",\n        query: \"language=java\",\n      },\n      {\n        title: \"CSS\",\n        query: \"language=css\",\n      },\n    ];\n\n    const menu = links.map((item) => (\n      <li key={item.title}>\n        <a\n          role=\"link\"\n          onClick={() => this.onClick(item.query)}\n          style={\n            current === item.query ? { color: \"#1890ff\" } : { color: \"black\" }\n          }\n        >\n          {item.title}\n        </a>\n      </li>\n    ));\n\n    return (\n      <>\n        <div className={styles.menu}>{menu}</div>\n        <InfiniteScroll\n          initialLoad={false}\n          loadMore={() => this.getApi(lang, false)}\n          hasMore={!loading}\n        >\n          <Card items={items} />\n          {loading && <Loading />}\n        </InfiniteScroll>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Popular);\n","import request from \"./request\";\n\nexport const getData = (language, page) => {\n  const url = `https://api.github.com/search/repositories?q=stars:>1+language:${language}&sort=stars&order=desc&type=Repositories&page=${page}`;\n  return request(url);\n};\n\nexport const getResult = (name) => {\n  const url = `https://api.github.com/users/${name}`;\n  return request(url);\n};\n","import axios from \"axios\";\n\n// const request = (url) => {\n//   return new Promise((resolve,reject) => {\n//     const promise = axios.get(url);\n//     promise.then((response) => {\n//       resolve(response.data);\n//     });\n//     promise.catch((error) => {\n//       reject(error)\n//     });\n//   });\n// };\n\nconst instance = axios.create();\n\ninstance.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  (error) => {\n    throw error.response;\n  }\n);\n\nexport default instance;\n"],"sourceRoot":""}
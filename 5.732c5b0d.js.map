{"version":3,"sources":["webpack:///./src/components/Card.js","webpack:///./src/components/Card.less?c203","webpack:///./src/components/Card.less","webpack:///./src/components/Loading.js","webpack:///./src/pages/popular.less?a24e","webpack:///./src/pages/popular.less","webpack:///./src/pages/Popular.js","webpack:///./src/utils/index.js","webpack:///./src/utils/request.js"],"names":["Nmsl","list","this","props","items","map","item","key","className","styles","content","style","textAlign","avatar","src","owner","avatar_url","alt","name","width","title","full_name","color","href","html_url","target","rel","stargazers_count","forks","open_issues","card","React","Component","api","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","center","Loading","Popular","lang","page","loading","query","a","history","pathname","search","setState","getApi","clear","state","currentpage","console","log","url","request","res","current","location","substr","menu","role","onClick","initialLoad","loadMore","hasMore","withRouter","fetchData","Promise","resolve","promise","axios","get","then","response","data","error","alert"],"mappings":"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","file":"5.732c5b0d.js","sourcesContent":["import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport styles from \"@/components/Card.less\";\r\n\r\nclass Nmsl extends React.Component {\r\n  render() {\r\n    const { items } = this.props;\r\n    const list = (items || []).map((item, key) => (\r\n      <Card key={key} className={styles.content}>\r\n        <h2 style={{ textAlign: \"center\" }}>#{key + 1}</h2>\r\n        <div className={styles.avatar}>\r\n          <img\r\n            src={item.owner.avatar_url}\r\n            alt={item.name}\r\n            style={{ width: \"50%\" }}\r\n          />\r\n        </div>\r\n        <h4 className={styles.title}>{item.full_name}</h4>\r\n        <div>\r\n          <i className=\"fa fa-user\" style={{ color: \"rgb(255, 191, 116)\" }} />\r\n          <a href={item.owner.html_url} target=\"_blank\" rel=\"noreferrer\">\r\n            {item.name}\r\n          </a>\r\n        </div>\r\n        <div>\r\n          <i className=\"fa fa-star\" style={{ color: \"rgb(255, 215, 0)\" }} />\r\n          {item.stargazers_count} stars\r\n        </div>\r\n        <div>\r\n          <i\r\n            className=\"fa fa-code-fork\"\r\n            style={{ color: \"rgb(129, 195, 245)\" }}\r\n          />\r\n          {item.forks} forks\r\n        </div>\r\n        <div>\r\n          <i\r\n            className=\"fa fa-warning\"\r\n            style={{ color: \"rgb(241, 138, 147)\" }}\r\n          />\r\n          {item.open_issues} Open issues\r\n        </div>\r\n      </Card>\r\n    ));\r\n\r\n    return (\r\n      <div className={styles.card}>\r\n        {list}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Nmsl;\r\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js?modules!../../node_modules/less-loader/dist/cjs.js!./Card.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".TMDhfDQfBRnQrrnymSNzw {\\n  box-sizing: border-box;\\n  width: 23%;\\n  padding: 24px;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  border-radius: 8px;\\n  background-color: rgba(0, 0, 0, 0.08);\\n}\\n.TMDhfDQfBRnQrrnymSNzw ._1Y-XiurQna0g0Y9_5x24t7 {\\n  text-align: center;\\n}\\n.TMDhfDQfBRnQrrnymSNzw ._2ijQDURv05jqTAAyGg-j1Y {\\n  display: flex;\\n  flex-direction: row;\\n  height: 36px;\\n  justify-content: center;\\n}\\n._3mzJeW7Q1jqIU3cyKOD5xI {\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  flex-wrap: wrap;\\n  justify-content: space-around;\\n  margin-bottom: 48px;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"content\": \"TMDhfDQfBRnQrrnymSNzw\",\n\t\"avatar\": \"_1Y-XiurQna0g0Y9_5x24t7\",\n\t\"title\": \"_2ijQDURv05jqTAAyGg-j1Y\",\n\t\"card\": \"_3mzJeW7Q1jqIU3cyKOD5xI\"\n};\nmodule.exports = exports;\n","import React from \"react\";\n\nconst styles = {\n  center: {\n    textAlign: \"center\",\n  },\n};\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <div style={styles.center}>\n        <i className=\"fa fa-spinner fa-spin\" />\n        <span>Loading...</span>\n      </div>\n    );\n  }\n}\n\nexport default Loading;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js?modules!../../node_modules/less-loader/dist/cjs.js!./popular.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"._2plrrsPL-juvUZ8XVZEvrT {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 0%;\\n  padding: 0px 32px;\\n  margin: 0px;\\n  min-height: 100vh;\\n}\\n._2YJjaPxn7gOG7IcarRl7-a {\\n  cursor: pointer;\\n  list-style: none;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  max-width: 500px;\\n  margin: 0 auto;\\n  margin-bottom: 50px;\\n}\\n._1WJu8GBeR5zltOcxTJRm5o {\\n  color: red;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"app\": \"_2plrrsPL-juvUZ8XVZEvrT\",\n\t\"menu\": \"_2YJjaPxn7gOG7IcarRl7-a\",\n\t\"link\": \"_1WJu8GBeR5zltOcxTJRm5o\"\n};\nmodule.exports = exports;\n","/* eslint-disable */\nimport React from \"react\";\nimport Card from \"@/components/Card\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport Loading from \"@/components/Loading\";\nimport { request } from \"@/utils/index\";\nimport styles from \"@/pages/popular.less\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Popular extends React.Component {\n  state = {\n    lang: \"\",\n    items: [],\n    page: 1,\n    loading: false,\n  };\n\n  componentDidMount() {\n    const { location: search } = this.props;\n    const current = search.search.substr(1);\n    this.getApi(current);\n  }\n\n  onClick = async (query) => {\n    const { history } = this.props;\n    history.push({ pathname: \"/\", search: query });\n    this.setState({ lang: query });\n    await this.getApi(query, true);\n  };\n\n  getApi = async (lang, clear = false) => {\n    const { items, page } = this.state;\n\n    const currentpage = clear ? 1 : page;\n\n    console.log(\"current page\", currentpage);\n    console.log(\"page in state => \", this.state.page);\n\n    const url = `https://api.github.com/search/repositories?q=stars:>1+language:${lang}&sort=stars&order=desc&type=Repositories&page=${currentpage}`;\n\n    this.setState({\n      loading: true,\n    });\n\n    if (clear) {\n      this.setState({ items: [] });\n    }\n\n    const res = await request(url);\n\n    this.setState({\n      items: clear ? res.items : [...items, ...res.items],\n      page: currentpage + 1,\n    });\n\n    this.setState({ loading: false });\n  };\n\n  render() {\n    const { items, lang } = this.state;\n    const { loading } = this.state;\n\n    const links = [\n      {\n        title: \"All\",\n        query: \"all\",\n      },\n      {\n        title: \"JavaScript\",\n        query: \"javascript\",\n      },\n      {\n        title: \"Ruby\",\n        query: \"ruby\",\n      },\n      {\n        title: \"Java\",\n        query: \"java\",\n      },\n      {\n        title: \"CSS\",\n        query: \"css\",\n      },\n    ];\n\n    const menu = links.map((item) => (\n      <li key={item.title}>\n        <a\n          role=\"link\"\n          onClick={() => this.onClick(item.query)}\n          style={lang === item.query ? { color: \"#1890ff\" } : {}}\n        >\n          {item.title}\n        </a>\n      </li>\n    ));\n\n    return (\n      <>\n        <div className={styles.menu}>{menu}</div>\n        <InfiniteScroll\n          initialLoad={false}\n          loadMore={() => this.getApi(lang, false)}\n          hasMore={!loading}\n        >\n          <Card items={items} />\n          {loading && <Loading />}\n        </InfiniteScroll>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Popular);\n","import fetchData from \"./request\";\n\nexport const request = (url) => {\n  return fetchData(url);\n};\n\nexport default request;\n","import axios from \"axios\";\n\nconst fetchData = (url) => {\n  return new Promise((resolve) => {\n    const promise = axios.get(url);\n\n    promise.then((response) => {\n      resolve(response.data);\n    });\n    promise.catch((error) => {\n      console.log(\"error\", error);\n      alert(\"API请求发生错误\", error);\n    });\n  });\n};\n\nexport default fetchData;\n"],"sourceRoot":""}